{"version":3,"sources":["./src/app/pages/login/login.module.ts","./src/app/pages/login/login.page.scss","./src/app/pages/login/login.page.html","./src/app/pages/login/login-routing.module.ts","./src/app/pages/login/login.page.ts"],"names":[],"mappings":"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","file":"pages-login-login-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LoginPageRoutingModule\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","export default \"ion-content {\\n  --background: url('login.jpg');\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xvZ2luLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLDhCQUFBO0FBQ0YiLCJmaWxlIjoibG9naW4ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNvbnRlbnQge1xuICAtLWJhY2tncm91bmQ6IHVybChcIi4uLy4uLy4uL2Fzc2V0cy9sb2dpbi5qcGdcIik7XG59XG4iXX0= */\";","export default \"<ion-content mode=\\\"md\\\"\\n  ><div\\n    style=\\\"\\n      text-align: center;\\n      font-size: 4em;\\n      font-family: auto;\\n      margin-top: 1.5em;\\n    \\\"\\n  >\\n    <span><ion-img src=\\\"assets/logo.png\\\" alt=\\\"Freshofast\\\"></ion-img></span>\\n  </div>\\n  <div\\n    style=\\\"\\n      font-size: 1.4em;\\n      text-align: center;\\n      font-weight: 700;\\n      margin-top: 0.5em;\\n    \\\"\\n  >\\n    Welcome!\\n  </div>\\n  <div\\n    style=\\\"\\n      font-size: 1.4em;\\n      text-align: center;\\n      font-weight: 700;\\n      margin-top: 0.8em;\\n    \\\"\\n  >\\n    Login in our account and get started\\n  </div>\\n  <ion-input\\n    type=\\\"text\\\"\\n    placeholder=\\\"User Name\\\"\\n    style=\\\"\\n      background-color: white;\\n      margin-top: 3%;\\n      margin-left: 25%;\\n      width: 48%;\\n      border-radius: 4%;\\n      height: 5%;\\n      color: black;\\n    \\\"\\n    [(ngModel)]=\\\"user_name\\\"\\n  ></ion-input\\n  ><ion-input\\n    type=\\\"password\\\"\\n    placeholder=\\\"Password\\\"\\n    style=\\\"\\n      background-color: white;\\n      margin-top: 3%;\\n      margin-left: 25%;\\n      width: 48%;\\n      border-radius: 4%;\\n      height: 5%;\\n      color: black;\\n    \\\"\\n    [(ngModel)]=\\\"Password\\\"\\n  ></ion-input\\n  ><button\\n    style=\\\"\\n      background-color: #60be74;\\n      border: none;\\n      color: #f5f6f9;\\n      padding: 10px 20px;\\n      text-align: center;\\n      text-decoration: none;\\n      display: inline-block;\\n      margin: 4px 2px;\\n      cursor: pointer;\\n      border-radius: 16px;\\n      margin-left: 31%;\\n      margin-top: 4%;\\n      width: 36%;\\n    \\\"\\n    (click)=\\\"login()\\\"\\n  >\\n    Login\\n  </button>\\n  <div\\n    style=\\\"\\n      font-size: 1.4em;\\n      text-align: center;\\n      font-weight: 700;\\n      margin-top: 0.8em;\\n    \\\"\\n    [routerLink]=\\\"['/sign-up']\\\"\\n  >\\n    New here? Sign Up\\n  </div>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { Component, OnInit } from \"@angular/core\";\nimport { HttpClient, HttpHeaders } from \"@angular/common/http\";\nimport { Router } from \"@angular/router\";\nimport { LoadingController, PopoverController } from \"@ionic/angular\";\nimport { LocationPage } from \"src/app/pages/location/location.page\";\n\n@Component({\n  selector: \"app-login\",\n  templateUrl: \"./login.page.html\",\n  styleUrls: [\"./login.page.scss\"],\n})\nexport class LoginPage implements OnInit {\n  user_name: any;\n  Password: any;\n  isLoading = false;\n  constructor(\n    private http: HttpClient,\n    private route: Router,\n    private loadingController: LoadingController,\n    private popoverController: PopoverController\n  ) {}\n  ngOnInit() {}\n  ionViewWillEnter() {\n    //localStorage.setItem(\"login\", \"true\");\n    if (localStorage.getItem(\"login\") == \"true\") {\n      this.route.navigate([\"/home\"]);\n      //this.login();\n      console.log(\"pre login\");\n    } else {\n      this.presentPopover();\n      console.log(\"create  login\");\n    }\n  }\n  login() {\n    this.presentLoading();\n    if (this.user_name && this.Password) {\n      localStorage.setItem(\"username\", this.user_name);\n      localStorage.setItem(\"password\", this.Password);\n      const httpOptions = {\n        headers: new HttpHeaders({\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Basic \" + btoa(`${this.user_name}:${this.Password}`),\n        }),\n      };\n      this.http\n        .get(\"http://freshofast.com/wp-json/wp/v2/users\", httpOptions)\n        .subscribe(\n          (data) => {\n            console.log(\"success\", data);\n            localStorage.setItem(\"login\", \"true\");\n            this.user_detail();\n            this.dismiss();\n          },\n          (error) => {\n            console.log(\"oops\", error);\n            alert(\"Credential is wrong\");\n            this.dismiss();\n          }\n          //   (res) => {\n          //   var response: any = res;\n          //   //this.dismiss();\n          //   this.user_detail();\n          //   localStorage.setItem(\"login\", \"true\");\n          //   console.log(\"login data \", response);\n          // }\n        );\n    } else {\n      this.dismiss();\n      alert(\"Fill the Credential\");\n    }\n  }\n  user_detail() {\n    let formData = new FormData();\n    formData.append(\"user_login\", this.user_name);\n    const body = {\n      user_login: this.user_name,\n    };\n    // http://freshofast.com/login\n    this.http.post(\"http://freshofast.com/login\", formData).subscribe((res) => {\n      var response = res;\n      this.dismiss();\n      this.route.navigate([\"/home\"]);\n      console.log(\"login data \", response);\n      localStorage.setItem(\"profileId\", response[0].ID);\n    });\n  }\n  // presentLoading() {\n  //     return  this.loadingController\n  //             .create({\n  //         // duration: 5000,\n  //         })\n  //             .then((a) => {\n  //             a.present().then(() => {\n  //                 console.log(\"presented\");\n  //                 if (!this.isLoading) {\n  //                     a.dismiss().then(() => console.log(\"abort presenting\"));\n  //                 }\n  //             });\n  //         });\n\n  // }\n  async presentLoading() {\n    this.isLoading = true;\n    const loading = await this.loadingController.create({\n      // message: 'Loading...',\n    });\n    return await loading.present();\n  }\n  async dismiss() {\n    if (this.isLoading) {\n      await this.loadingController.dismiss();\n    }\n    this.isLoading = false;\n  }\n  // dismiss() {\n  //     return  this.loadingController\n  //             .dismiss()\n  //             .then(() => console.log(\"dismissed\"));\n\n  // }\n\n  async presentPopover() {\n    const popover = await this.popoverController.create({\n      component: LocationPage,\n      //event: ev,\n      translucent: true,\n      backdropDismiss: false,\n      showBackdrop: false,\n      keyboardClose: false,\n    });\n    return await popover.present();\n  }\n}\n//   const pop = this.popoverController.create({\n//     component: LocationPage,\n//     // cssClass: \"my-custom-class\",\n//     //event: ev,\n//     translucent: true,\n//   });\n//   pop.present();\n// }\n"],"sourceRoot":"webpack:///"}