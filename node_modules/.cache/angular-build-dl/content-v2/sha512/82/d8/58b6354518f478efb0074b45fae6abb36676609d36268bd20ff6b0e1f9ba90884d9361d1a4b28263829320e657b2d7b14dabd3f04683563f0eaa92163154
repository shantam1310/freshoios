{"version":3,"sources":["webpack:///src/app/pages/login/login.module.ts","webpack:///src/app/pages/login/login.page.scss","webpack:///src/app/pages/login/login.page.html","webpack:///src/app/pages/login/login-routing.module.ts","webpack:///src/app/pages/login/login.page.ts"],"names":["LoginPageModule","imports","declarations","routes","path","component","LoginPageRoutingModule","forChild","exports","LoginPage","http","route","loadingController","popoverController","isLoading","localStorage","getItem","navigate","console","log","presentPopover","presentLoading","user_name","Password","setItem","httpOptions","headers","Authorization","btoa","get","subscribe","data","user_detail","dismiss","error","alert","formData","FormData","append","body","user_login","post","res","response","ID","create","loading","present","translucent","backdropDismiss","showBackdrop","keyboardClose","popover","selector","template"],"mappings":"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","file":"pages-login-login-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LoginPageRoutingModule\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","export default \"ion-content {\\n  --background: url('login.jpg');\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xvZ2luLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLDhCQUFBO0FBQ0YiLCJmaWxlIjoibG9naW4ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNvbnRlbnQge1xuICAtLWJhY2tncm91bmQ6IHVybChcIi4uLy4uLy4uL2Fzc2V0cy9sb2dpbi5qcGdcIik7XG59XG4iXX0= */\";","export default \"<ion-content mode=\\\"md\\\"\\n  ><div\\n    style=\\\"\\n      text-align: center;\\n      font-size: 4em;\\n      font-family: auto;\\n      margin-top: 1.5em;\\n    \\\"\\n  >\\n    <span><ion-img src=\\\"assets/logo.png\\\" alt=\\\"Freshofast\\\"></ion-img></span>\\n  </div>\\n  <div\\n    style=\\\"\\n      font-size: 1.4em;\\n      text-align: center;\\n      font-weight: 700;\\n      margin-top: 0.5em;\\n    \\\"\\n  >\\n    Welcome!\\n  </div>\\n  <div\\n    style=\\\"\\n      font-size: 1.4em;\\n      text-align: center;\\n      font-weight: 700;\\n      margin-top: 0.8em;\\n    \\\"\\n  >\\n    Login in our account and get started\\n  </div>\\n  <ion-input\\n    type=\\\"text\\\"\\n    placeholder=\\\"User Name or Email\\\"\\n    style=\\\"\\n      background-color: white;\\n      margin-top: 3%;\\n      margin-left: 25%;\\n      width: 48%;\\n      border-radius: 4%;\\n      height: 5%;\\n      color: black;\\n    \\\"\\n    [(ngModel)]=\\\"user_name\\\"\\n  ></ion-input\\n  ><ion-input\\n    type=\\\"password\\\"\\n    placeholder=\\\"Password\\\"\\n    style=\\\"\\n      background-color: white;\\n      margin-top: 3%;\\n      margin-left: 25%;\\n      width: 48%;\\n      border-radius: 4%;\\n      height: 5%;\\n      color: black;\\n    \\\"\\n    [(ngModel)]=\\\"Password\\\"\\n  ></ion-input\\n  ><button\\n    style=\\\"\\n      background-color: #60be74;\\n      border: none;\\n      color: #f5f6f9;\\n      padding: 10px 20px;\\n      text-align: center;\\n      text-decoration: none;\\n      display: inline-block;\\n      margin: 4px 2px;\\n      cursor: pointer;\\n      border-radius: 16px;\\n      margin-left: 31%;\\n      margin-top: 4%;\\n      width: 36%;\\n    \\\"\\n    (click)=\\\"login()\\\"\\n  >\\n    Login\\n  </button>\\n  <div\\n    style=\\\"\\n      font-size: 1.4em;\\n      text-align: center;\\n      font-weight: 700;\\n      margin-top: 0.8em;\\n    \\\"\\n    [routerLink]=\\\"['/sign-up']\\\"\\n  >\\n    New here? Sign Up\\n  </div>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { Component, OnInit } from \"@angular/core\";\nimport { HttpClient, HttpHeaders } from \"@angular/common/http\";\nimport { Router } from \"@angular/router\";\nimport { LoadingController, PopoverController } from \"@ionic/angular\";\nimport { LocationPage } from \"src/app/pages/location/location.page\";\n\n@Component({\n  selector: \"app-login\",\n  templateUrl: \"./login.page.html\",\n  styleUrls: [\"./login.page.scss\"],\n})\nexport class LoginPage implements OnInit {\n  user_name: any;\n  Password: any;\n  isLoading = false;\n  constructor(\n    private http: HttpClient,\n    private route: Router,\n    private loadingController: LoadingController,\n    private popoverController: PopoverController\n  ) {}\n  ngOnInit() {}\n  ionViewWillEnter() {\n    //localStorage.setItem(\"login\", \"true\");\n    if (localStorage.getItem(\"login\") == \"true\") {\n      this.route.navigate([\"/home\"]);\n      //this.login();\n      console.log(\"pre login\");\n    } else {\n      this.presentPopover();\n      console.log(\"create  login\");\n    }\n  }\n  login() {\n    this.presentLoading();\n    if (this.user_name && this.Password) {\n      localStorage.setItem(\"username\", this.user_name);\n      localStorage.setItem(\"password\", this.Password);\n      const httpOptions = {\n        headers: new HttpHeaders({\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Basic \" + btoa(`${this.user_name}:${this.Password}`),\n        }),\n      };\n      this.http\n        .get(\"http://freshofast.com/wp-json/wp/v2/users\", httpOptions)\n        .subscribe(\n          (data) => {\n            console.log(\"success\", data);\n            localStorage.setItem(\"login\", \"true\");\n            this.user_detail();\n            this.dismiss();\n          },\n          (error) => {\n            console.log(\"oops\", error);\n            alert(\"Credential is wrong\");\n            this.dismiss();\n          }\n          //   (res) => {\n          //   var response: any = res;\n          //   //this.dismiss();\n          //   this.user_detail();\n          //   localStorage.setItem(\"login\", \"true\");\n          //   console.log(\"login data \", response);\n          // }\n        );\n    } else {\n      this.dismiss();\n      alert(\"Fill the Credential\");\n    }\n  }\n  user_detail() {\n    let formData = new FormData();\n    formData.append(\"user_login\", this.user_name);\n    const body = {\n      user_login: this.user_name,\n    };\n    // http://freshofast.com/login\n    this.http.post(\"http://freshofast.com/login\", formData).subscribe((res) => {\n      var response = res;\n      this.dismiss();\n      this.route.navigate([\"/home\"]);\n      console.log(\"login data \", response);\n      localStorage.setItem(\"profileId\", response[0].ID);\n    });\n  }\n  // presentLoading() {\n  //     return  this.loadingController\n  //             .create({\n  //         // duration: 5000,\n  //         })\n  //             .then((a) => {\n  //             a.present().then(() => {\n  //                 console.log(\"presented\");\n  //                 if (!this.isLoading) {\n  //                     a.dismiss().then(() => console.log(\"abort presenting\"));\n  //                 }\n  //             });\n  //         });\n\n  // }\n  async presentLoading() {\n    this.isLoading = true;\n    const loading = await this.loadingController.create({\n      // message: 'Loading...',\n    });\n    return await loading.present();\n  }\n  async dismiss() {\n    if (this.isLoading) {\n      await this.loadingController.dismiss();\n    }\n    this.isLoading = false;\n  }\n  // dismiss() {\n  //     return  this.loadingController\n  //             .dismiss()\n  //             .then(() => console.log(\"dismissed\"));\n\n  // }\n\n  async presentPopover() {\n    const popover = await this.popoverController.create({\n      component: LocationPage,\n      //event: ev,\n      translucent: true,\n      backdropDismiss: false,\n      showBackdrop: false,\n      keyboardClose: false,\n    });\n    return await popover.present();\n  }\n}\n//   const pop = this.popoverController.create({\n//     component: LocationPage,\n//     // cssClass: \"my-custom-class\",\n//     //event: ev,\n//     translucent: true,\n//   });\n//   pop.present();\n// }\n"]}