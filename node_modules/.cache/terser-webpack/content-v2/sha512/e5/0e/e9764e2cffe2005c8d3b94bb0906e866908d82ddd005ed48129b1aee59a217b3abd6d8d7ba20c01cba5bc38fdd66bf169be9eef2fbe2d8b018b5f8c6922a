{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{F4UR:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"LoginPageModule\",function(){return login_module_LoginPageModule});var common=__webpack_require__(\"ofXK\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),ionic_angular=__webpack_require__(\"TEn/\"),router=__webpack_require__(\"tyNb\"),tslib_es6=__webpack_require__(\"mrSG\"),http=__webpack_require__(\"tk/3\"),location_page=__webpack_require__(\"N4Pa\"),core=__webpack_require__(\"fXoL\"),ngx=__webpack_require__(\"XSEc\");const _c0=function(){return[\"/sign-up\"]},routes=[{path:\"\",component:(()=>{class LoginPage{constructor(http,httpclient,route,loadingController,popoverController){this.http=http,this.httpclient=httpclient,this.route=route,this.loadingController=loadingController,this.popoverController=popoverController,this.isLoading=!1}ngOnInit(){}ionViewWillEnter(){\"true\"==localStorage.getItem(\"login\")?(this.route.navigate([\"/home\"]),console.log(\"pre login\")):(this.presentPopover(),console.log(\"create  login\"))}login(){this.presentLoading(),this.user_name&&this.Password?(localStorage.setItem(\"username\",this.user_name),localStorage.setItem(\"password\",this.Password),new http.c({\"Content-Type\":\"application/json\",Authorization:\"Basic \"+btoa(`${this.user_name}:${this.Password}`)}),this.http.get(\"http://freshofast.com/wp-json/wp/v2/users\",{},{Authorization:\"Basic \"+btoa(`${this.user_name}:${this.Password}`),\"Content-Type\":\"application/json\"}).then(data=>{console.log(\"success\",data),localStorage.setItem(\"login\",\"true\"),this.user_detail(),this.dismiss()},error=>{console.log(\"oops\",error),alert(\"Credential is wrong\"),this.dismiss()})):(this.dismiss(),alert(\"Fill the Credential\"))}user_detail(){let formData=new FormData;formData.append(\"user_login\",this.user_name),this.httpclient.post(\"http://freshofast.com/login\",formData).subscribe(res=>{var response=res;this.dismiss(),this.route.navigate([\"/home\"]),console.log(\"login data \",response),localStorage.setItem(\"profileId\",response[0].ID)})}presentLoading(){return Object(tslib_es6.a)(this,void 0,void 0,function*(){this.isLoading=!0;const loading=yield this.loadingController.create({});return yield loading.present()})}dismiss(){return Object(tslib_es6.a)(this,void 0,void 0,function*(){this.isLoading&&(yield this.loadingController.dismiss()),this.isLoading=!1})}presentPopover(){return Object(tslib_es6.a)(this,void 0,void 0,function*(){const popover=yield this.popoverController.create({component:location_page.a,translucent:!0,backdropDismiss:!1,showBackdrop:!1,keyboardClose:!1});return yield popover.present()})}}return LoginPage.ɵfac=function(t){return new(t||LoginPage)(core.Hb(ngx.a),core.Hb(http.a),core.Hb(router.g),core.Hb(ionic_angular.F),core.Hb(ionic_angular.I))},LoginPage.ɵcmp=core.Bb({type:LoginPage,selectors:[[\"app-login\"]],decls:14,vars:4,consts:[[\"mode\",\"md\"],[2,\"text-align\",\"center\",\"font-size\",\"4em\",\"font-family\",\"auto\",\"margin-top\",\"1.5em\"],[\"src\",\"assets/logo.png\",\"alt\",\"Freshofast\"],[2,\"font-size\",\"1.4em\",\"text-align\",\"center\",\"font-weight\",\"700\",\"margin-top\",\"0.5em\"],[2,\"font-size\",\"1.4em\",\"text-align\",\"center\",\"font-weight\",\"700\",\"margin-top\",\"0.8em\"],[\"type\",\"text\",\"placeholder\",\"User Name or Email\",2,\"background-color\",\"white\",\"margin-top\",\"3%\",\"margin-left\",\"25%\",\"width\",\"48%\",\"border-radius\",\"4%\",\"height\",\"5%\",\"color\",\"black\",3,\"ngModel\",\"ngModelChange\"],[\"type\",\"password\",\"placeholder\",\"Password\",2,\"background-color\",\"white\",\"margin-top\",\"3%\",\"margin-left\",\"25%\",\"width\",\"48%\",\"border-radius\",\"4%\",\"height\",\"5%\",\"color\",\"black\",3,\"ngModel\",\"ngModelChange\"],[2,\"background-color\",\"#60be74\",\"border\",\"none\",\"color\",\"#f5f6f9\",\"padding\",\"10px 20px\",\"text-align\",\"center\",\"text-decoration\",\"none\",\"display\",\"inline-block\",\"margin\",\"4px 2px\",\"cursor\",\"pointer\",\"border-radius\",\"16px\",\"margin-left\",\"31%\",\"margin-top\",\"4%\",\"width\",\"36%\",3,\"click\"],[2,\"font-size\",\"1.4em\",\"text-align\",\"center\",\"font-weight\",\"700\",\"margin-top\",\"0.8em\",3,\"routerLink\"]],template:function(rf,ctx){1&rf&&(core.Kb(0,\"ion-content\",0),core.Kb(1,\"div\",1),core.Kb(2,\"span\"),core.Ib(3,\"ion-img\",2),core.Jb(),core.Jb(),core.Kb(4,\"div\",3),core.ic(5,\" Welcome! \"),core.Jb(),core.Kb(6,\"div\",4),core.ic(7,\" Login in our account and get started \"),core.Jb(),core.Kb(8,\"ion-input\",5),core.Sb(\"ngModelChange\",function($event){return ctx.user_name=$event}),core.Jb(),core.Kb(9,\"ion-input\",6),core.Sb(\"ngModelChange\",function($event){return ctx.Password=$event}),core.Jb(),core.Kb(10,\"button\",7),core.Sb(\"click\",function(){return ctx.login()}),core.ic(11,\" Login \"),core.Jb(),core.Kb(12,\"div\",8),core.ic(13,\" New here? Sign Up \"),core.Jb(),core.Jb()),2&rf&&(core.xb(8),core.Zb(\"ngModel\",ctx.user_name),core.xb(1),core.Zb(\"ngModel\",ctx.Password),core.xb(3),core.Zb(\"routerLink\",core.bc(3,_c0)))},directives:[ionic_angular.i,ionic_angular.n,ionic_angular.o,ionic_angular.L,fesm2015_forms.d,fesm2015_forms.e,ionic_angular.J,router.h],styles:[\"ion-content[_ngcontent-%COMP%]{--background:url(login.3a623de16889e100b364.jpg)}\"]}),LoginPage})()}];let login_routing_module_LoginPageRoutingModule=(()=>{class LoginPageRoutingModule{}return LoginPageRoutingModule.ɵmod=core.Fb({type:LoginPageRoutingModule}),LoginPageRoutingModule.ɵinj=core.Eb({factory:function(t){return new(t||LoginPageRoutingModule)},imports:[[router.i.forChild(routes)],router.i]}),LoginPageRoutingModule})(),login_module_LoginPageModule=(()=>{class LoginPageModule{}return LoginPageModule.ɵmod=core.Fb({type:LoginPageModule}),LoginPageModule.ɵinj=core.Eb({factory:function(t){return new(t||LoginPageModule)},imports:[[common.b,fesm2015_forms.a,ionic_angular.D,login_routing_module_LoginPageRoutingModule]]}),LoginPageModule})()}}]);","name":"76-es2015.533dfac00e6a227716c0.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[76],{\n\n/***/ \"F4UR\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"LoginPageModule\", function() { return /* binding */ login_module_LoginPageModule; });\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js\nvar common = __webpack_require__(\"ofXK\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/forms/__ivy_ngcc__/fesm2015/forms.js + 1 modules\nvar fesm2015_forms = __webpack_require__(\"3Pt+\");\n\n// EXTERNAL MODULE: ./node_modules/@ionic/angular/__ivy_ngcc__/fesm2015/ionic-angular.js + 7 modules\nvar ionic_angular = __webpack_require__(\"TEn/\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js + 22 modules\nvar router = __webpack_require__(\"tyNb\");\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(\"mrSG\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/__ivy_ngcc__/fesm2015/http.js\nvar http = __webpack_require__(\"tk/3\");\n\n// EXTERNAL MODULE: ./src/app/pages/location/location.page.ts\nvar location_page = __webpack_require__(\"N4Pa\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js + 5 modules\nvar core = __webpack_require__(\"fXoL\");\n\n// EXTERNAL MODULE: ./node_modules/@ionic-native/http/__ivy_ngcc__/ngx/index.js\nvar ngx = __webpack_require__(\"XSEc\");\n\n// CONCATENATED MODULE: ./src/app/pages/login/login.page.ts\n\n\n\n\n\n\n\n\n\nconst _c0 = function () { return [\"/sign-up\"]; };\nlet login_page_LoginPage = /*@__PURE__*/ (() => {\n    class LoginPage {\n        constructor(http, httpclient, route, loadingController, popoverController) {\n            this.http = http;\n            this.httpclient = httpclient;\n            this.route = route;\n            this.loadingController = loadingController;\n            this.popoverController = popoverController;\n            this.isLoading = false;\n        }\n        ngOnInit() { }\n        ionViewWillEnter() {\n            //localStorage.setItem(\"login\", \"true\");\n            if (localStorage.getItem(\"login\") == \"true\") {\n                this.route.navigate([\"/home\"]);\n                //this.login();\n                console.log(\"pre login\");\n            }\n            else {\n                this.presentPopover();\n                console.log(\"create  login\");\n            }\n        }\n        login() {\n            this.presentLoading();\n            if (this.user_name && this.Password) {\n                localStorage.setItem(\"username\", this.user_name);\n                localStorage.setItem(\"password\", this.Password);\n                const httpOptions = {\n                    headers: new http[\"c\" /* HttpHeaders */]({\n                        \"Content-Type\": \"application/json\",\n                        Authorization: \"Basic \" + btoa(`${this.user_name}:${this.Password}`),\n                    }),\n                };\n                // this.http\n                //   .get(\"http://freshofast.com/wp-json/wp/v2/users\", httpOptions)\n                this.http\n                    .get(\"http://freshofast.com/wp-json/wp/v2/users\", {}, {\n                    Authorization: \"Basic \" + btoa(`${this.user_name}:${this.Password}`),\n                    \"Content-Type\": \"application/json\",\n                })\n                    .then((data) => {\n                    console.log(\"success\", data);\n                    localStorage.setItem(\"login\", \"true\");\n                    this.user_detail();\n                    this.dismiss();\n                }, (error) => {\n                    console.log(\"oops\", error);\n                    alert(\"Credential is wrong\");\n                    this.dismiss();\n                });\n            }\n            else {\n                this.dismiss();\n                alert(\"Fill the Credential\");\n            }\n        }\n        user_detail() {\n            let formData = new FormData();\n            formData.append(\"user_login\", this.user_name);\n            const body = {\n                user_login: this.user_name,\n            };\n            // http://freshofast.com/login\n            this.httpclient\n                .post(\"http://freshofast.com/login\", formData)\n                .subscribe((res) => {\n                var response = res;\n                this.dismiss();\n                this.route.navigate([\"/home\"]);\n                console.log(\"login data \", response);\n                localStorage.setItem(\"profileId\", response[0].ID);\n            });\n        }\n        presentLoading() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                this.isLoading = true;\n                const loading = yield this.loadingController.create({\n                // message: 'Loading...',\n                });\n                return yield loading.present();\n            });\n        }\n        dismiss() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                if (this.isLoading) {\n                    yield this.loadingController.dismiss();\n                }\n                this.isLoading = false;\n            });\n        }\n        presentPopover() {\n            return Object(tslib_es6[\"a\" /* __awaiter */])(this, void 0, void 0, function* () {\n                const popover = yield this.popoverController.create({\n                    component: location_page[\"a\" /* LocationPage */],\n                    //event: ev,\n                    translucent: true,\n                    backdropDismiss: false,\n                    showBackdrop: false,\n                    keyboardClose: false,\n                });\n                return yield popover.present();\n            });\n        }\n    }\n    LoginPage.ɵfac = function LoginPage_Factory(t) { return new (t || LoginPage)(core[\"Hb\" /* ɵɵdirectiveInject */](ngx[\"a\" /* HTTP */]), core[\"Hb\" /* ɵɵdirectiveInject */](http[\"a\" /* HttpClient */]), core[\"Hb\" /* ɵɵdirectiveInject */](router[\"g\" /* Router */]), core[\"Hb\" /* ɵɵdirectiveInject */](ionic_angular[\"F\" /* LoadingController */]), core[\"Hb\" /* ɵɵdirectiveInject */](ionic_angular[\"I\" /* PopoverController */])); };\n    LoginPage.ɵcmp = core[\"Bb\" /* ɵɵdefineComponent */]({ type: LoginPage, selectors: [[\"app-login\"]], decls: 14, vars: 4, consts: [[\"mode\", \"md\"], [2, \"text-align\", \"center\", \"font-size\", \"4em\", \"font-family\", \"auto\", \"margin-top\", \"1.5em\"], [\"src\", \"assets/logo.png\", \"alt\", \"Freshofast\"], [2, \"font-size\", \"1.4em\", \"text-align\", \"center\", \"font-weight\", \"700\", \"margin-top\", \"0.5em\"], [2, \"font-size\", \"1.4em\", \"text-align\", \"center\", \"font-weight\", \"700\", \"margin-top\", \"0.8em\"], [\"type\", \"text\", \"placeholder\", \"User Name or Email\", 2, \"background-color\", \"white\", \"margin-top\", \"3%\", \"margin-left\", \"25%\", \"width\", \"48%\", \"border-radius\", \"4%\", \"height\", \"5%\", \"color\", \"black\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", \"placeholder\", \"Password\", 2, \"background-color\", \"white\", \"margin-top\", \"3%\", \"margin-left\", \"25%\", \"width\", \"48%\", \"border-radius\", \"4%\", \"height\", \"5%\", \"color\", \"black\", 3, \"ngModel\", \"ngModelChange\"], [2, \"background-color\", \"#60be74\", \"border\", \"none\", \"color\", \"#f5f6f9\", \"padding\", \"10px 20px\", \"text-align\", \"center\", \"text-decoration\", \"none\", \"display\", \"inline-block\", \"margin\", \"4px 2px\", \"cursor\", \"pointer\", \"border-radius\", \"16px\", \"margin-left\", \"31%\", \"margin-top\", \"4%\", \"width\", \"36%\", 3, \"click\"], [2, \"font-size\", \"1.4em\", \"text-align\", \"center\", \"font-weight\", \"700\", \"margin-top\", \"0.8em\", 3, \"routerLink\"]], template: function LoginPage_Template(rf, ctx) {\n            if (rf & 1) {\n                core[\"Kb\" /* ɵɵelementStart */](0, \"ion-content\", 0);\n                core[\"Kb\" /* ɵɵelementStart */](1, \"div\", 1);\n                core[\"Kb\" /* ɵɵelementStart */](2, \"span\");\n                core[\"Ib\" /* ɵɵelement */](3, \"ion-img\", 2);\n                core[\"Jb\" /* ɵɵelementEnd */]();\n                core[\"Jb\" /* ɵɵelementEnd */]();\n                core[\"Kb\" /* ɵɵelementStart */](4, \"div\", 3);\n                core[\"ic\" /* ɵɵtext */](5, \" Welcome! \");\n                core[\"Jb\" /* ɵɵelementEnd */]();\n                core[\"Kb\" /* ɵɵelementStart */](6, \"div\", 4);\n                core[\"ic\" /* ɵɵtext */](7, \" Login in our account and get started \");\n                core[\"Jb\" /* ɵɵelementEnd */]();\n                core[\"Kb\" /* ɵɵelementStart */](8, \"ion-input\", 5);\n                core[\"Sb\" /* ɵɵlistener */](\"ngModelChange\", function LoginPage_Template_ion_input_ngModelChange_8_listener($event) { return ctx.user_name = $event; });\n                core[\"Jb\" /* ɵɵelementEnd */]();\n                core[\"Kb\" /* ɵɵelementStart */](9, \"ion-input\", 6);\n                core[\"Sb\" /* ɵɵlistener */](\"ngModelChange\", function LoginPage_Template_ion_input_ngModelChange_9_listener($event) { return ctx.Password = $event; });\n                core[\"Jb\" /* ɵɵelementEnd */]();\n                core[\"Kb\" /* ɵɵelementStart */](10, \"button\", 7);\n                core[\"Sb\" /* ɵɵlistener */](\"click\", function LoginPage_Template_button_click_10_listener() { return ctx.login(); });\n                core[\"ic\" /* ɵɵtext */](11, \" Login \");\n                core[\"Jb\" /* ɵɵelementEnd */]();\n                core[\"Kb\" /* ɵɵelementStart */](12, \"div\", 8);\n                core[\"ic\" /* ɵɵtext */](13, \" New here? Sign Up \");\n                core[\"Jb\" /* ɵɵelementEnd */]();\n                core[\"Jb\" /* ɵɵelementEnd */]();\n            }\n            if (rf & 2) {\n                core[\"xb\" /* ɵɵadvance */](8);\n                core[\"Zb\" /* ɵɵproperty */](\"ngModel\", ctx.user_name);\n                core[\"xb\" /* ɵɵadvance */](1);\n                core[\"Zb\" /* ɵɵproperty */](\"ngModel\", ctx.Password);\n                core[\"xb\" /* ɵɵadvance */](3);\n                core[\"Zb\" /* ɵɵproperty */](\"routerLink\", core[\"bc\" /* ɵɵpureFunction0 */](3, _c0));\n            }\n        }, directives: [ionic_angular[\"i\" /* IonContent */], ionic_angular[\"n\" /* IonImg */], ionic_angular[\"o\" /* IonInput */], ionic_angular[\"L\" /* TextValueAccessor */], fesm2015_forms[\"d\" /* NgControlStatus */], fesm2015_forms[\"e\" /* NgModel */], ionic_angular[\"J\" /* RouterLinkDelegate */], router[\"h\" /* RouterLink */]], styles: [\"ion-content[_ngcontent-%COMP%]{--background:url(login.3a623de16889e100b364.jpg)}\"] });\n    return LoginPage;\n})();\n\n// CONCATENATED MODULE: ./src/app/pages/login/login-routing.module.ts\n\n\n\n\nconst routes = [\n    {\n        path: '',\n        component: login_page_LoginPage\n    }\n];\nlet login_routing_module_LoginPageRoutingModule = /*@__PURE__*/ (() => {\n    class LoginPageRoutingModule {\n    }\n    LoginPageRoutingModule.ɵmod = core[\"Fb\" /* ɵɵdefineNgModule */]({ type: LoginPageRoutingModule });\n    LoginPageRoutingModule.ɵinj = core[\"Eb\" /* ɵɵdefineInjector */]({ factory: function LoginPageRoutingModule_Factory(t) { return new (t || LoginPageRoutingModule)(); }, imports: [[router[\"i\" /* RouterModule */].forChild(routes)], router[\"i\" /* RouterModule */]] });\n    return LoginPageRoutingModule;\n})();\n\n// CONCATENATED MODULE: ./src/app/pages/login/login.module.ts\n\n\n\n\n\nlet login_module_LoginPageModule = /*@__PURE__*/ (() => {\n    class LoginPageModule {\n    }\n    LoginPageModule.ɵmod = core[\"Fb\" /* ɵɵdefineNgModule */]({ type: LoginPageModule });\n    LoginPageModule.ɵinj = core[\"Eb\" /* ɵɵdefineInjector */]({ factory: function LoginPageModule_Factory(t) { return new (t || LoginPageModule)(); }, imports: [[\n                common[\"b\" /* CommonModule */],\n                fesm2015_forms[\"a\" /* FormsModule */],\n                ionic_angular[\"D\" /* IonicModule */],\n                login_routing_module_LoginPageRoutingModule\n            ]] });\n    return LoginPageModule;\n})();\n\n\n/***/ })\n\n}]);","inputSourceMap":null}